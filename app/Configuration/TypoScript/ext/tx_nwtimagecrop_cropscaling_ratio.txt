# Save Ratio Def
tmp.tx_nwtimagecrop_cropscaling_ratio < tt_content.image.20.1.sourceCollectionCropscaling.height.cObject.stdWrap.dataWrap.override.cObject
# Override Height calculation
tt_content.image.20.1.sourceCollectionCropscaling.height.cObject.stdWrap.dataWrap.override.cObject.10 >
tt_content.image.20.1.sourceCollectionCropscaling.height.cObject.stdWrap.dataWrap.override.cObject.10 = CASE
tt_content.image.20.1.sourceCollectionCropscaling.height.cObject.stdWrap.dataWrap.override.cObject.10 {
  setCurrent.field = tx_nwtimagecrop_cropscaling_ratio
  key.field = tx_nwtimagecrop_cropscaling_ratio

  default = TEXT
  default.value = |*(1/({field:ftx_nwtimagecrop_cropscaling_ratio}))

  #100 = TEXT
  #100.value = |*(1/(16/9))

  if < tmp.tx_nwtimagecrop_cropscaling_ratio.10.if
}
# Override Default image Height
tt_content.image.20.1.file.height.override.cObject.override.cObject.stdWrap.override.cObject = CASE
tt_content.image.20.1.file.height.override.cObject.override.cObject.stdWrap.override.cObject < tt_content.image.20.1.sourceCollectionCropscaling.height.cObject.stdWrap.dataWrap.override.cObject.10
tt_content.image.20.1.file.height.override.cObject.override.cObject.stdWrap.override.cObject.if >

# Override Height calculation 2
tt_content.image.20.1.sourceCollectionCropscaling.height.cObject.stdWrap.dataWrap.override.cObject.20 >
tt_content.image.20.1.sourceCollectionCropscaling.height.cObject.stdWrap.dataWrap.override.cObject.20 = CASE
tt_content.image.20.1.sourceCollectionCropscaling.height.cObject.stdWrap.dataWrap.override.cObject.20 {
  setCurrent.field = tx_nwtimagecrop_cropscaling_ratio
  key.field = tx_nwtimagecrop_cropscaling_ratio

  default = TEXT
  default.value = |/({field:ftx_nwtimagecrop_cropscaling_ratio})

  #100 = TEXT
  #100.value = |/(16/9)

  if < tmp.tx_nwtimagecrop_cropscaling_ratio.20.if
}
